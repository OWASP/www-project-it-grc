const a0_0x5ce5bd=a0_0x9ec7;(function(_0x3eadfa,_0x50e0f3){const _0x5006ea=a0_0x9ec7,_0x4d65ba=_0x3eadfa();while(!![]){try{const _0x5529aa=parseInt(_0x5006ea(0x1fe))/0x1*(parseInt(_0x5006ea(0x1ff))/0x2)+-parseInt(_0x5006ea(0x1c5))/0x3+-parseInt(_0x5006ea(0x1df))/0x4*(parseInt(_0x5006ea(0x1e8))/0x5)+parseInt(_0x5006ea(0x1d6))/0x6+-parseInt(_0x5006ea(0x1e9))/0x7+parseInt(_0x5006ea(0x200))/0x8*(-parseInt(_0x5006ea(0x1de))/0x9)+parseInt(_0x5006ea(0x1fa))/0xa;if(_0x5529aa===_0x50e0f3)break;else _0x4d65ba['push'](_0x4d65ba['shift']());}catch(_0x459211){_0x4d65ba['push'](_0x4d65ba['shift']());}}}(a0_0x26e0,0x6a750),odoo[a0_0x5ce5bd(0x1e3)]('mana_dashboard.grid_widget',function(require){'use strict';const _0x515ee9=a0_0x5ce5bd;var _0x51c8fb=require('web.widget_registry'),_0x443a05=require('web.Widget'),_0x165d7d=require('web.core'),_0x2b8040=_0x443a05[_0x515ee9(0x1cc)]({'init':function(_0x34356a,_0x42dea8,_0x5f4bbd){const _0x153242=_0x515ee9;this._super.apply(this,arguments),this[_0x153242(0x1f5)]=_0x42dea8,this[_0x153242(0x1be)]=_0x5f4bbd;let _0x1fe23d=_0x42dea8['getContext'](),_0x56f8c5=_0x1fe23d['any_config_id'];this[_0x153242(0x1da)]=_0x56f8c5;},'start':function(){const _0x25b528=_0x515ee9;this._super.apply(this,arguments)[_0x25b528(0x1f9)](()=>{const _0xe6eefa=_0x25b528;this[_0xe6eefa(0x1ed)](),!this['record'][_0xe6eefa(0x1dc)][_0xe6eefa(0x1cd)]&&(_0x165d7d['bus']['on']('mana_dashbaord.get_datas_result',this,this[_0xe6eefa(0x1d9)]),_0x165d7d[_0xe6eefa(0x1fb)]['on']('mana_dashboard.do_query',this,this[_0xe6eefa(0x1eb)]));});},'updateState':function(_0x3334c0){const _0x4fb330=_0x515ee9;this[_0x4fb330(0x1f5)]=_0x3334c0,this['on_changing']&&(_0x165d7d[_0x4fb330(0x1fb)][_0x4fb330(0x1bf)]('DOM_updated'),this[_0x4fb330(0x1ca)]=![]);},'get_data_model':function(){const _0x59c043=_0x515ee9;let _0x3838f6=this[_0x59c043(0x1e5)](),_0x2c20aa=_0x3838f6['getParent'](),_0x38b776=_0x2c20aa[_0x59c043(0x1d7)];return _0x38b776;},'get_controller':function(){const _0x162f46=_0x515ee9;let _0xe76ab3=this[_0x162f46(0x1e5)](),_0x1b0f6d=_0xe76ab3['getParent']();return _0x1b0f6d;},'get_data':function(_0x11ceea){const _0x34c381=_0x515ee9;let _0x3d4db6=this[_0x34c381(0x1f5)]['data']['data_source_type_name'];switch(_0x3d4db6){case'sql':return this[_0x34c381(0x201)]();case'model':return this['get_data_from_model']();case'method':return this[_0x34c381(0x1e1)]();case'json':return this[_0x34c381(0x1d3)]();case'code':return this[_0x34c381(0x1c8)]();default:return Promise[_0x34c381(0x1e2)]([]);}},'on_get_datas_result':function(_0x35faf3){const _0x565dac=_0x515ee9;let _0x2b5ac2=this[_0x565dac(0x1f5)]['res_id'],_0xc9d024=_0x35faf3[_0x565dac(0x1c4)],_0x36e8c0=_0xc9d024[_0x565dac(0x1dd)];this[_0x565dac(0x1ee)][_0x565dac(0x1fc)](_0x36e8c0),this['_rpc']({'model':this[_0x565dac(0x1f5)][_0x565dac(0x1d7)],'method':'combine_raw_fields','args':[_0x2b5ac2,_0xc9d024['field_infos']]})[_0x565dac(0x1f9)](_0xf257af=>{const _0x18ec2e=_0x565dac;this[_0x18ec2e(0x1ee)][_0x18ec2e(0x1fd)](_0xf257af);let _0x3efe52=this['getParent'](),_0x58e12a=_0x3efe52[_0x18ec2e(0x1cf)];for(let _0x3a129e in _0x58e12a){let _0x244d54=_0x58e12a[_0x3a129e];for(let _0x3f7e3b=0x0;_0x3f7e3b<_0x244d54[_0x18ec2e(0x1d1)];_0x3f7e3b++){let _0x171416=_0x244d54[_0x3f7e3b];if(_0x171416[_0x18ec2e(0x1d8)]=='fake_field'){_0x171416[_0x18ec2e(0x1ea)](JSON['stringify'](_0xf257af)),this[_0x18ec2e(0x1ca)]=!![];break;}}}});},'get_model_fields':function(){const _0x356468=_0x515ee9;let _0x55642a=this['get_data_model'](),_0x55389c=_0x55642a['get'](this[_0x356468(0x1f5)][_0x356468(0x1dc)][_0x356468(0x1bd)]['id'],{'raw':!![]}),_0x2405c5=_0x55389c[_0x356468(0x1dc)],_0x151208=[];for(let _0x3aebe8=0x0;_0x3aebe8<_0x2405c5[_0x356468(0x1d1)];_0x3aebe8++){let _0xaf0c07=_0x2405c5[_0x3aebe8],_0x56b18b=_0xaf0c07[_0x356468(0x1dc)];_0x151208['push'](_0x56b18b);}return _0x151208;},'get_order_by_infos':function(){const _0x2bd732=_0x515ee9;let _0x2ada95=this[_0x2bd732(0x1ce)](),_0x4f50ec=_0x2ada95[_0x2bd732(0x1cb)](this[_0x2bd732(0x1f5)]['data'][_0x2bd732(0x1c9)]['id'],{'raw':!![]}),_0x5c4d1d=_0x4f50ec[_0x2bd732(0x1dc)],_0x181d25=[];for(let _0x367c7f=0x0;_0x367c7f<_0x5c4d1d[_0x2bd732(0x1d1)];_0x367c7f++){let _0x2e8f2b=_0x5c4d1d[_0x367c7f],_0x374458=_0x2e8f2b['data'];_0x181d25[_0x2bd732(0x1f2)](_0x374458);}return _0x181d25;},'get_group_by_infos':function(){const _0x16c970=_0x515ee9;let _0x78dc18=this[_0x16c970(0x1ce)](),_0x13ab09=_0x78dc18[_0x16c970(0x1cb)](this[_0x16c970(0x1f5)][_0x16c970(0x1dc)][_0x16c970(0x1d2)]['id'],{'raw':!![]}),_0x540c43=_0x13ab09[_0x16c970(0x1dc)],_0x36d804=[];for(let _0x3fc443=0x0;_0x3fc443<_0x540c43[_0x16c970(0x1d1)];_0x3fc443++){let _0x5798a0=_0x540c43[_0x3fc443],_0x29c426=_0x5798a0['data'];_0x36d804['push'](_0x29c426);}return _0x36d804;},'get_parameter_infos':function(){const _0x5dc276=_0x515ee9;let _0x1aa706=this[_0x5dc276(0x1ce)](),_0x573213=_0x1aa706['get'](this[_0x5dc276(0x1f5)][_0x5dc276(0x1dc)]['parameter_ids']['id'],{'raw':!![]}),_0xf88c60=_0x573213['data'],_0x31b654={};for(let _0x577df4=0x0;_0x577df4<_0xf88c60['length'];_0x577df4++){let _0x1daf65=_0xf88c60[_0x577df4],_0x5a7e00=_0x1daf65['data'],_0xbb727c=_0x5a7e00['type'],_0x38c50b=undefined;if(_0xbb727c=='int')_0x38c50b=parseInt(_0x5a7e00[_0x5dc276(0x202)]);else{if(_0xbb727c=='float')_0x38c50b=parseFloat(_0x5a7e00['default_value']);else{if(_0xbb727c=='bool')_0x38c50b=_0x5a7e00[_0x5dc276(0x202)]=='True'?!![]:![];else{if(_0xbb727c=='date')_0x38c50b=moment(_0x5a7e00[_0x5dc276(0x202)])['format']('YYYY-MM-DD');else _0xbb727c=='datetime'?_0x38c50b=moment(_0x5a7e00[_0x5dc276(0x202)])['format']('YYYY-MM-DD HH:mm:ss'):_0x38c50b=_0x5a7e00[_0x5dc276(0x202)];}}}_0x31b654[_0x5a7e00[_0x5dc276(0x1d8)]]=_0x38c50b;}return _0x31b654;},'get_order_by_infos':function(){const _0x2e103c=_0x515ee9;let _0x34d2b9=this[_0x2e103c(0x1ce)](),_0x3cca3f=_0x34d2b9[_0x2e103c(0x1cb)](this[_0x2e103c(0x1f5)][_0x2e103c(0x1dc)][_0x2e103c(0x1c9)]['id'],{'raw':!![]}),_0x160691=_0x3cca3f[_0x2e103c(0x1dc)],_0x2ed2a2=[];for(let _0x1b87dd=0x0;_0x1b87dd<_0x160691[_0x2e103c(0x1d1)];_0x1b87dd++){let _0x21a5bd=_0x160691[_0x1b87dd],_0x341d9b=_0x21a5bd[_0x2e103c(0x1dc)];_0x2ed2a2[_0x2e103c(0x1f2)](_0x341d9b);}return _0x2ed2a2;},'get_data_from_model':function(){const _0x349f2a=_0x515ee9;let _0x5efc7e=this[_0x349f2a(0x1f5)],_0x547410=_0x5efc7e[_0x349f2a(0x1dc)][_0x349f2a(0x1d7)][_0x349f2a(0x1f0)],_0x2c01ed=_0x5efc7e['data'][_0x349f2a(0x1e4)][_0x349f2a(0x1f0)];debugger;let _0x14b5c0=_0x5efc7e[_0x349f2a(0x1dc)][_0x349f2a(0x1f7)]||[],_0x4ba766=_0x5efc7e['data'][_0x349f2a(0x1e6)]||{},_0x11b089=_0x5efc7e[_0x349f2a(0x1dc)][_0x349f2a(0x1e7)]||0x0,_0x1e7333=this[_0x349f2a(0x1c7)](),_0x3e9476=this[_0x349f2a(0x1f8)](),_0x4bba99=this[_0x349f2a(0x1c0)]();if(!_0x547410)return Promise[_0x349f2a(0x1e2)]([]);return this[_0x349f2a(0x1c2)]({'model':'mana_dashboard.data_source_base','method':'get_data_from_model','args':[{'model_id':_0x547410,'dashboard_id':_0x2c01ed,'domain':_0x14b5c0,'context':_0x4ba766,'model_fields':_0x4bba99,'limit':_0x11b089,'group_by_infos':_0x3e9476,'order_by_infos':_0x1e7333}]});},'get_data_from_sql':function(){const _0x2ff6e1=_0x515ee9;let _0x5f28e5=this[_0x2ff6e1(0x1f5)][_0x2ff6e1(0x1dc)][_0x2ff6e1(0x1f6)];if(!_0x5f28e5)return Promise[_0x2ff6e1(0x1e2)]([]);return this[_0x2ff6e1(0x1c2)]({'model':'mana_dashboard.data_source_base','method':'get_data_from_sql','args':[_0x5f28e5,{'preview':!![],'params':this[_0x2ff6e1(0x1f4)](),'result_type':this[_0x2ff6e1(0x1f5)]['data'][_0x2ff6e1(0x1d4)][0x1]}]});},'get_data_from_method':function(){const _0x4f1206=_0x515ee9;let _0x931de8=this[_0x4f1206(0x1f5)]['data']['model']&&this[_0x4f1206(0x1f5)][_0x4f1206(0x1dc)][_0x4f1206(0x1d7)][_0x4f1206(0x1dc)]['id'],_0x4789bf=this[_0x4f1206(0x1f5)][_0x4f1206(0x1dc)][_0x4f1206(0x1c3)];_0x4789bf=_0x4789bf&&_[_0x4f1206(0x1f3)][_0x4f1206(0x1c1)](_0x4789bf);if(!_0x931de8||!_0x4789bf||_0x4789bf=='')return Promise['resolve']([]);return this[_0x4f1206(0x1c2)]({'model':'mana_dashboard.data_source_base','method':'get_data_from_model_method','args':[_0x931de8,_0x4789bf,{'preview':!![],'params':this[_0x4f1206(0x1f4)](),'result_type':this['record']['data'][_0x4f1206(0x1d4)][0x1]}],'kwargs':{}});},'get_data_from_json':function(){const _0x2755c0=_0x515ee9;let _0x37d971=this[_0x2755c0(0x1f5)][_0x2755c0(0x1dc)]['json_data'],_0x391527=this[_0x2755c0(0x1f5)][_0x2755c0(0x1dc)]['json_data_format'];return this[_0x2755c0(0x1c2)]({'model':'mana_dashboard.data_source_base','method':'get_data_from_json','args':[_0x37d971,{'json_data_format':_0x391527,'params':this[_0x2755c0(0x1f4)](),'result_type':this[_0x2755c0(0x1f5)][_0x2755c0(0x1dc)][_0x2755c0(0x1d4)][0x1]}]});},'get_dashboard_id':function(){const _0x460ce4=_0x515ee9;let _0x17e094=this[_0x460ce4(0x1ce)](),_0x90d7ce=_0x17e094[_0x460ce4(0x1cb)](this[_0x460ce4(0x1f5)]['data'][_0x460ce4(0x1e4)]['id'],{'raw':!![]});return _0x90d7ce[_0x460ce4(0x1dc)]['id'];},'get_data_from_code':function(){const _0x1cdada=_0x515ee9;let _0x6c2b37=this[_0x1cdada(0x1f5)][_0x1cdada(0x1dc)][_0x1cdada(0x1d0)];if(!_0x6c2b37)return Promise['resolve']([]);return this['_rpc']({'model':'mana_dashboard.data_source_base','method':'get_data_from_code','args':[_0x6c2b37,{'preview':!![],'params':this[_0x1cdada(0x1f4)]()}]});},'_do_query_data':function(){const _0x30679d=_0x515ee9;let _0x52a0ca=this['getParent'](),_0x8bd941=_0x52a0ca[_0x30679d(0x1e5)](),_0x30cbd0=_0x8bd941['model'][_0x30679d(0x1cb)](_0x8bd941['handle'],{'raw':!![]}),_0x188bde=_0x30cbd0['model'];_0x188bde=='mana_dashboard.data_source'?this[_0x30679d(0x1ef)]():_0x165d7d[_0x30679d(0x1fb)][_0x30679d(0x1bf)]('mana_dashbaord.notify_item_query_data',{'any_config_id':this[_0x30679d(0x1da)]});},'do_query':function(){const _0x339b5c=_0x515ee9;let _0x10c781=this[_0x339b5c(0x1f5)]['res_id'];this['get_data']({'fetch_data':!![],'fetch_sql_data':!![],'fetch_model_data':!![],'fetch_model_method_data':!![],'fetch_json_data':!![],'fetch_code_data':!![]})[_0x339b5c(0x1f9)](_0x161e29=>{const _0x595db2=_0x339b5c;let _0xbcabc7=_0x161e29[_0x595db2(0x1dd)];return this['table'][_0x595db2(0x1fc)](_0xbcabc7),_0x161e29['field_infos'];})[_0x339b5c(0x1f9)](_0x25dd2b=>{const _0x2568a2=_0x339b5c;return this[_0x2568a2(0x1c2)]({'model':this[_0x2568a2(0x1f5)][_0x2568a2(0x1d7)],'method':'combine_raw_fields','args':[_0x10c781,_0x25dd2b]});})['then'](_0x2ee7b7=>{const _0x40f34e=_0x339b5c;this[_0x40f34e(0x1ee)][_0x40f34e(0x1fd)](_0x2ee7b7);let _0x6ebac6=this[_0x40f34e(0x1e5)](),_0x3bc935=_0x6ebac6['allFieldWidgets'];for(let _0xcf7fa1 in _0x3bc935){let _0x123795=_0x3bc935[_0xcf7fa1];for(let _0x5417f0=0x0;_0x5417f0<_0x123795[_0x40f34e(0x1d1)];_0x5417f0++){let _0x420ac8=_0x123795[_0x5417f0];if(_0x420ac8[_0x40f34e(0x1d8)]=='fake_field'){_0x420ac8[_0x40f34e(0x1ea)](JSON[_0x40f34e(0x1f1)](_0x2ee7b7)),this['on_changing']=!![];break;}}}});},'render':function(){const _0x18d141=_0x515ee9;if(!this['record'])return;!this[_0x18d141(0x1ee)]&&(this['table']=new Tabulator(this[_0x18d141(0x1e0)][_0x18d141(0x1cb)](0x0),{'pagination':!![],'layout':'fitDataStretch','tooltipsHeader':![],'paginationSize':0xa,'paginationSizeSelector':[0xa,0x19,0x32,0x64],'autoColumns':!![],'layout':'fitColumns','dataSourceCallback':()=>{const _0x3e018e=_0x18d141;if(this[_0x3e018e(0x1f5)][_0x3e018e(0x1dc)]['fake_field']){let _0x2d65fe=JSON['parse'](this[_0x3e018e(0x1f5)][_0x3e018e(0x1dc)][_0x3e018e(0x1db)][_0x3e018e(0x1dc)]);return Promise[_0x3e018e(0x1e2)](_0x2d65fe);}else return Promise['resolve']([]);}}));},'destroy':function(){const _0x26c249=_0x515ee9;this[_0x26c249(0x1ee)]&&this[_0x26c249(0x1ee)][_0x26c249(0x1c6)](),_0x165d7d[_0x26c249(0x1fb)][_0x26c249(0x1ec)]('mana_dashbaord.get_datas_result',this),_0x165d7d['bus'][_0x26c249(0x1ec)]('mana_dashboard.do_query',this),this._super.apply(this,arguments);}});return _0x51c8fb[_0x515ee9(0x1d5)]('grid_widget',_0x2b8040),_0x2b8040;}));function a0_0x9ec7(_0x26d3c1,_0x311e48){const _0x26e098=a0_0x26e0();return a0_0x9ec7=function(_0x9ec7d5,_0x2abf86){_0x9ec7d5=_0x9ec7d5-0x1bd;let _0x386810=_0x26e098[_0x9ec7d5];return _0x386810;},a0_0x9ec7(_0x26d3c1,_0x311e48);}function a0_0x26e0(){const _0x4abc98=['model_fields','node','trigger','get_model_fields','trim','_rpc','method','result','2536770aqnZIY','destroy','get_order_by_infos','get_data_from_code','order_by_infos','on_changing','get','extend','multi_data_source','get_data_model','allFieldWidgets','code','length','group_by_infos','get_data_from_json','result_type','add','322038BKCXDq','model','name','on_get_datas_result','any_config_id','fake_field','data','datas','27dmUVme','92OSqnJn','$el','get_data_from_method','resolve','define','dashboard_id','getParent','context','limit','30975HQTrSW','1202824JHDfdZ','_setValue','_do_query_data','off','render','table','do_query','res_id','stringify','push','str','get_parameter_infos','record','sql','domain','get_group_by_infos','then','16412520kGgVdo','bus','setData','setColumns','39mBkAdt','7522FyBSeX','655064UtozFG','get_data_from_sql','default_value'];a0_0x26e0=function(){return _0x4abc98;};return a0_0x26e0();}
